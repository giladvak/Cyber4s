This is as far as i got by now. Some problems appeared in the last moment after i managed moving the pieces but one commit before is the pure task.
